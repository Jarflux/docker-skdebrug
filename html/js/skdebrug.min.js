function headerAnimation(){var distanceY=$(window).scrollTop(),shrinkOn=34;distanceY>shrinkOn?$("#main-navigation").removeClass("scrollable"):$("#main-navigation").addClass("scrollable")}function headerScroll(){window.addEventListener("scroll",function(e){headerAnimation()})}!function(){var app=angular.module("skdebrug.config",["ngRoute"]);app.config(["$routeProvider",function($routeProvider){$routeProvider.when("/news",{templateUrl:"partials/news-list.html",controller:"newsController"}).when("/news/:newsId",{templateUrl:"partials/news-detail.html",controller:"newsDetailController"}).otherwise({redirectTo:"/news"})}])}(),function(){var app=angular.module("skdebrug.controllers",["ngRoute"]),folder={banners:"images/banners/##.jpg"};app.controller("teamController",function(apiServices){var team=this;team.players=[],apiServices.getTeam().success(function(data){team.players=data})}),app.controller("newsController",function($scope,apiServices){apiServices.getNews().success(function(data){$scope.items=data})}),app.controller("newsDetailController",function($scope,$routeParams,apiServices){$scope.newsId=$routeParams.newsId,apiServices.getNewsItem($scope.newsId).success(function(data){$scope.item=data})}),app.controller("teamSliderController",function($scope,apiServices){var team=this;team.players=[],apiServices.getTeam().success(function(data){team.players=data})}),app.controller("rankingController",function($scope,apiServices){$scope.sortType="",$scope.sortReverse=!1,apiServices.getLeague().success(function(data){$scope.ranking=data})}),app.controller("matchesController",function($scope,apiServices){$scope.sortType="key",$scope.sortReverse=!1,apiServices.getAllMatches().success(function(data){$scope.temp=data,$scope.games={},angular.forEach($scope.temp,function(value,key){var date=new Date(value.date),key=new Date(date.getFullYear(),date.getMonth(),date.getDate()).getTime();$scope.games[key]=$scope.games[key]||[],$scope.games[key].push(value)})})}),app.controller("timelineController",function($scope,apiServices){}),app.controller("nextMatchWidgetController",function($scope,apiServices){var match=this;apiServices.getNextXMatch(1,1).success(function(data){match.next=data[0]})}),app.controller("matchWidgetController",function($scope,apiServices){var match=this;apiServices.getPrevXMatch(3,1).success(function(data){match.prev=data})}),app.controller("bannerSliderController",function($scope,utils){var banner=this;banner.slides=[];var slides=[0,1,2,3,4,5,6,7,8,9],owl=$("#home-banner"),defaultOptions={nav:!0,dots:!1,navText:["<i class='fa fa-angle-left'></i>","<i class='fa fa-angle-right'></i>"],lazyLoad:!0},customOptions=$scope.$eval(owl.attr("data-options"));for(var key in customOptions)defaultOptions[key]=customOptions[key];owl.owlCarousel(defaultOptions);var counter=0;$.each(slides,function(index,value){var image=folder.banners.replace("##",value);utils.isImage(image).then(function(foundImage){return foundImage&&(banner.slides[index]=image),++counter}).then(function(counter){10==counter&&$.each(banner.slides,function(index,value){var content='<div class="item "><img src="'+value+'"></img></div>';owl.data("owlCarousel").addItem(content)})})})})}(),function(){var app=angular.module("skdebrug.directives",[]);app.directive("owlCarousel",function(){return{restrict:"E",transclude:!1,link:function(scope){scope.initCarousel=function(element){var defaultOptions={nav:!0,dots:!1,navText:["<i class='fa fa-angle-left'></i>","<i class='fa fa-angle-right'></i>"],lazyLoad:!0},customOptions=scope.$eval($(element).attr("data-options"));for(var key in customOptions)defaultOptions[key]=customOptions[key];$(element).owlCarousel(defaultOptions)}}}}),app.directive("owlCarouselItem",[function(){return{restrict:"A",transclude:!1,link:function(scope,element){scope.$last&&scope.initCarousel(element.parent())}}}])}(),function(){var app=angular.module("skdebrug.filters",[]);app.filter("trim",function(){return function(value,wordwise,max,tail){if(!value)return"";if(max=parseInt(max,10),!max)return value;if(value.length<=max)return value;if(value=value.substr(0,max),wordwise){var lastspace=value.lastIndexOf(" ");lastspace!=-1&&(value=value.substr(0,lastspace))}return value+(tail||"...")}}),app.filter("nospace",function(){return function(value,symbol){return value?value.replace(/ /g,symbol):""}})}(),function(){angular.module("skdebrug",["ngRoute","skdebrug.controllers","skdebrug.directives","skdebrug.services","skdebrug.filters","skdebrug.config"])}(),function(){var app=angular.module("skdebrug.services",[]),api={players:"/data/player",news:"/data/news",newsItem:"/data/news/{0}",nextMatch:"/data/game/next/{0}/team/{1}",allMatches:"/data/game",prevMatch:"/data/game/prev/{0}/team/{1}",league:"/data/league"};app.factory("apiServices",function($http){var services={getTeam:function(){return $http({url:api.players})},getNews:function(){return $http({url:api.news})},getNewsItem:function(x){return $http({url:api.newsItem.replace("{0}",x)})},getAllMatches:function(){return $http({url:api.allMatches})},getNextXMatch:function(x,y){return $http({url:api.nextMatch.replace("{0}",x).replace("{1}",y)})},getPrevXMatch:function(x,y){return $http({url:api.prevMatch.replace("{0}",x).replace("{1}",y)})},getLeague:function(){return $http({url:api.league})}};return services}),app.factory("utils",function($q){return{isImage:function(src){var deferred=$q.defer(),image=new Image;return image.onerror=function(){deferred.resolve(!1)},image.onload=function(){deferred.resolve(!0)},image.src=src,deferred.promise}}})}(),window.onload=headerScroll(),headerAnimation(),$(function(){var $el,leftPos,newWidth;$("#navigation-links").append("<li id='magic-line'></li>"),$("#navigation-links").append("<li id='magic-block'></li>");var $magicLine=$("#magic-line"),$magicBlock=$("#magic-block");$magicLine.width($("#navigation-links .current_page_item").width()).css("left",$("#navigation-links .current_page_item").position().left).data("origLeft",$magicLine.position().left).data("origWidth",$magicLine.width()),$magicBlock.width($("#navigation-links .current_page_item").width()).height($("#navigation-links .current_page_item").height()).css("left",$("#navigation-links .current_page_item").position().left).data("origLeft",$magicBlock.position().left).data("origWidth",$magicBlock.width()),$("#navigation-links li").find("a").hover(function(){$el=$(this),leftPos=$el.parent().position().left,newWidth=$el.outerWidth(),$magicLine.stop().animate({left:leftPos,width:newWidth}),$magicBlock.stop().animate({left:leftPos,width:newWidth})},function(){$magicLine.stop().animate({left:$magicLine.data("origLeft"),width:$magicLine.data("origWidth")}),$magicBlock.stop().animate({left:$magicBlock.data("origLeft"),width:$magicBlock.data("origWidth")})})}),angular.module("skdebrug.pasta",[]),function(angular){"use strict";function reservation(){var directive={bindToController:!0,templateUrl:"pasta/app/reservation/reservation.partial.html",controller:reservationController,controllerAs:"vm",restrict:"EA",scope:{}};return directive}function reservationController(ReservationService){var vm=this;vm.reset=function(){vm.isSending=!1,vm.hideMessage(),vm.reservation={name:"",email:"",time:{selected:"",options:["18u - 19u","19u - 20u","20u - 21u"]},pasta:{amount:0,total:0,price:9},veggie:{amount:0,total:0,price:9},child:{amount:0,total:0,price:5},dessert:{amount:0,total:0,price:3.5},lookbrood:{amount:0,total:0,price:2.5}}},vm.hideMessage=function(){vm.message=void 0},vm.calc=function(){vm.reservation.total=0,angular.forEach(vm.reservation,function(foodType){foodType.price&&(foodType.total=foodType.amount*foodType.price,vm.reservation.total+=foodType.total)})},vm.sendMail=function(){vm.isSending=!0;var reservation={};reservation.recipient=vm.reservation.email,reservation.name=vm.reservation.name,reservation.time=vm.reservation.time.selected,reservation.pasta=vm.reservation.pasta.amount,reservation.veggie=vm.reservation.veggie.amount,reservation.child=vm.reservation.child.amount,reservation.dessert=vm.reservation.dessert.amount,reservation.lookbrood=vm.reservation.lookbrood.amount,ReservationService.sendMail(reservation).then(function(response){vm.reset(),vm.message={success:!0,text:"De reservatie is succesvol verstuurd!"}},function(error){vm.isSending=!1,500==error.status||504==error.status||404==error.status?vm.message={error:!0,errors:void 0,text:"Fout op de server, probeer het later opnieuw."}:vm.message={error:!0,errors:error.data,text:"Formulier bevat nog fouten:"}})},vm.reset()}angular.module("skdebrug.pasta").directive("reservation",reservation),reservation.$inject=[],reservationController.$inject=["ReservationService"]}(angular),function(angular){"use strict";function ReservationService($http,$q){function _sendMail(reservationObj){var request={data:reservationObj,method:"POST",url:"/data/reservation"};return $http(request)}return{sendMail:_sendMail}}angular.module("skdebrug.pasta").service("ReservationService",ReservationService),ReservationService.$inject=["$http","$q"]}(angular),angular.module("skdebrug.quiz",[]),function(angular){"use strict";function registration(){var directive={bindToController:!0,templateUrl:"quiz/app/registration/registration.partial.html",controller:registrationController,controllerAs:"vm",restrict:"EA",scope:{}};return directive}function registrationController(RegistrationService){var vm=this;vm.reset=function(){vm.isSending=!1,vm.hideMessage(),vm.registration={name:"",email:"",team:""}},vm.hideMessage=function(){vm.message=void 0},vm.sendMail=function(){vm.isSending=!0;var registration={};registration.recipient=vm.registration.email,registration.name=vm.registration.name,registration.team=vm.registration.team,RegistrationService.sendMail(registration).then(function(response){vm.reset(),vm.message={success:!0,text:"De registratie is succesvol verstuurd!"}},function(error){vm.isSending=!1,500==error.status||504==error.status||404==error.status?vm.message={error:!0,errors:void 0,text:"Fout op de server, probeer het later opnieuw."}:vm.message={error:!0,errors:error.data,text:"Formulier bevat nog fouten:"}})},vm.reset()}angular.module("skdebrug.quiz").directive("registration",registration),registration.$inject=[],registrationController.$inject=["RegistrationService"]}(angular),function(angular){"use strict";function RegistrationService($http,$q){function _sendMail(registrationObj){var request={data:registrationObj,method:"POST",url:"/data/registration"};return $http(request)}return{sendMail:_sendMail}}angular.module("skdebrug.quiz").service("RegistrationService",RegistrationService),RegistrationService.$inject=["$http","$q"]}(angular);